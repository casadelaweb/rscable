<?php namespace App;
/** @var string $productTitle */
/** @var string|number $productCode */

$productTitle = 'Название продукта';
$productCode = 1234567890;
$slidesMain = [
  ['url' => 'https://cdn.vseinstrumenti.ru/images/goods/elektrika-i-svet/kabel-i-provod/893119/1200x800/72879266.jpg',],
  ['url' => 'https://cdn.vseinstrumenti.ru/images/goods/elektrika-i-svet/kabel-i-provod/893119/1200x800/72879272.jpg',],
  ['url' => 'https://cdn.vseinstrumenti.ru/images/goods/elektrika-i-svet/kabel-i-provod/893119/1200x800/138587264.jpg',], ['url' => 'https://cdn.vseinstrumenti.ru/images/goods/elektrika-i-svet/kabel-i-provod/893119/1200x800/72879266.jpg',],
  ['url' => 'https://cdn.vseinstrumenti.ru/images/goods/elektrika-i-svet/kabel-i-provod/893119/1200x800/72879272.jpg',],
  ['url' => 'https://cdn.vseinstrumenti.ru/images/goods/elektrika-i-svet/kabel-i-provod/893119/1200x800/138587264.jpg',],
];
$slidesThumbs = [
  ['url' => 'https://cdn.vseinstrumenti.ru/images/goods/elektrika-i-svet/kabel-i-provod/893119/68x60/72879266.jpg',],
  ['url' => 'https://cdn.vseinstrumenti.ru/images/goods/elektrika-i-svet/kabel-i-provod/893119/68x60/72879272.jpg',],
  ['url' => 'https://cdn.vseinstrumenti.ru/images/goods/elektrika-i-svet/kabel-i-provod/893119/68x60/138587264.jpg',],
  ['url' => 'https://cdn.vseinstrumenti.ru/images/goods/elektrika-i-svet/kabel-i-provod/893119/68x60/72879266.jpg',],
  ['url' => 'https://cdn.vseinstrumenti.ru/images/goods/elektrika-i-svet/kabel-i-provod/893119/68x60/72879272.jpg',],
  ['url' => 'https://cdn.vseinstrumenti.ru/images/goods/elektrika-i-svet/kabel-i-provod/893119/68x60/138587264.jpg',],
];
$productParamsPreview = [
  ['key' => 'Тип', 'value' => 'ВВГ-Пнг(A)-LS',],
  ['key' => 'Количество жил', 'value' => '2 шт',],
  ['key' => 'Номинальное напряжение', 'value' => '660 Ватт',],
  ['key' => 'Длина', 'value' => '20 м',],
  ['key' => 'Материал жилы', 'value' => 'Медь',],
  ['key' => 'Материал изоляции', 'value' => 'ПВХ пониженной пожарной опасности',],
  ['key' => 'Изоляция', 'value' => 'ПВХ-пластикат',],
  ['key' => 'Структура жилы', 'value' => 'ОП',],
  ['key' => 'Не распространяющий горение НГ', 'value' => 'Нет',],
];
$productParamsAll = [
  ['key' => 'Тип', 'value' => 'ВВГ-Пнг(A)-LS',],
  ['key' => 'Количество жил', 'value' => '2 шт',],
  ['key' => 'Номинальное напряжение', 'value' => '660 Ватт',],
  ['key' => 'Длина', 'value' => '20 м',],
  ['key' => 'Материал жилы', 'value' => 'Медь',],
  ['key' => 'Материал изоляции', 'value' => 'ПВХ пониженной пожарной опасности',],
  ['key' => 'Изоляция', 'value' => 'ПВХ-пластикат',],
  ['key' => 'Тестовая характеристика', 'value' => '25 попугаев',],
  ['key' => 'Еще параметр', 'value' => '25 ед.',],
  ['key' => 'Характеристика', 'value' => 'Ее значение',],
  ['key' => 'Структура жилы', 'value' => 'ОП',],
  ['key' => 'Не распространяющий горение НГ', 'value' => 'Нет',],
  ['key' => 'Тип', 'value' => 'ВВГ-Пнг(A)-LS',],
  ['key' => 'Количество жил', 'value' => '2 шт',],
  ['key' => 'Номинальное напряжение', 'value' => '660 Ватт',],
  ['key' => 'Длина', 'value' => '20 м',],
  ['key' => 'Материал жилы', 'value' => 'Медь',],
  ['key' => 'Материал изоляции', 'value' => 'ПВХ пониженной пожарной опасности',],
  ['key' => 'Изоляция', 'value' => 'ПВХ-пластикат',],
  ['key' => 'Тестовая характеристика', 'value' => '25 попугаев',],
  ['key' => 'Еще параметр', 'value' => '25 ед.',],
  ['key' => 'Характеристика', 'value' => 'Ее значение',],
  ['key' => 'Структура жилы', 'value' => 'ОП',],
  ['key' => 'Не распространяющий горение НГ', 'value' => 'Нет',],
];
$certificates = [
  [
    'title' => 'Сертификат дистрибьютора Угличкабель',
    'imgUrl' => 'https://rscable.ru/upload/doc/sertifika-distribyutera-ooo-uglichkabel.jpeg',
  ],
  [
    'title' => 'Сертификат дистрибьютора Цветплит',
    'imgUrl' => 'https://rscable.ru/upload/doc/sirtifikat-distribyutera-torgovoy-marki-tsvetlit.jpeg',
  ],
  [
    'title' => 'Сертификат дилера Кабельный Альянс',
    'imgUrl' => 'https://rscable.ru/upload/doc/sertifikat-dilera-kholding-kabelnyy-alyans.jpeg',
  ],
  [
    'title' => 'Сертификат дилера РОССКАТ',
    'imgUrl' => 'https://rscable.ru/upload/doc/sertifikat-dilera-ao-rosskat.jpeg',
  ],
  [
    'title' => 'Сертификат представителя ТПД Паритет',
    'imgUrl' => 'https://rscable.ru/upload/doc/sertifikat-dilera-zavoda-paritet.jpeg',
  ],
  [
    'title' => 'Сертификат дилера Конкорд',
    'imgUrl' => 'https://rscable.ru/upload/doc/sertifikat-dilera-ooo-konkord.jpeg',
  ],
  [
    'title' => 'Сертификат дилера LAPP',
    'imgUrl' => 'https://rscable.ru/upload/doc/sertifikat-distribyutera-ooo-lapp-russsiya.jpeg',
  ],
];
$sectionDescription = [
  'id' => 'description',
  'title' => 'Описание',
  'body' => '
<h3>Расшифровка марки кабеля КГВВнг(А) 2х1:</h3>
<ul>
  <li>К — Кабель</li>
  <li>Г — Гибкий</li>
  <li>В — Изоляция жил из поливинилхлоридного пластиката</li>
  <li>В — Оболочка из поливинилхлоридного пластиката</li>
  <li>нг — не распространяет горение</li>
  <li>(А) — класс пожарной безопасности</li>
</ul>

<h3>Конструкция кабеля КГВВнг(А) 2х1</h3>
<ol>
  <li>Токопроводящая жила - медная, многопроволочная, круглой формы, 4 или 5 класса номинальным сечением до 10 мм2 включительно, жилы номинальным сечением 16 мм2 и выше - 3, 4 и 5 класса по ГОСТ 22483.</li>
  <li>Изоляция - из поливинилхлоридного пластиката (ПВХ). Изолированные жилы кабелей с числом жил до 5 включительно имеют отличительную расцветку. Изоляция нулевых жил выполняется голубого цвета. Изоляция жил заземления выполняется двухцветной (зелено-желтой расцветки). В кабелях с числом жил 7 и более в каждом повиве имеются счетная жила и жила направления, отличающиеся по цвету друг от друга и от остальных жил повива.</li>
  <li>Скрутка - изолированные жилы кабелей скручены концентрическими повивами; изолированные жилы четырех- и пятижильных кабелей допускается скручивать вокруг сердечника, изолированного ПВХ пластикатом. Трех- и четырехжильные кабели имеют все жилы одинакового сечения или одну жилу меньшего сечения (жилу заземления или нулевую). Кабели могут иметь жилу заземления с номинальным сечением, равным номинальному сечению основной жилы.</li>
  <li>Оболочка - из ПВХ пластиката с низким газо- и дымовыделением.</li>
</ol>

<h3>Описание кабеля КГВВнг(А) 2х1</h3>
<p>Гибкие контрольные кабели КГВВнг(А) предназначены для подключения стационарного и подвижного оборудования к сети электропитания. Конструкция данных изделий рассчитана на эксплуатацию под переменным напряжением 0.66 кВ частотой до 60 Гц, либо же под постоянным напряжением до 1 кВ. </p>
<p>Марка КГВВнг(А) обладает повышенной огнестойкостью и не распространяет горение даже при прокладке в пучках, поэтому ее разрешается использовать для монтажа на объектах с повышенными требованиями к пожарной безопасности. </p>
<p>Естественным ограничением сферы использования кабелей данной марки выступает тот факт, что они не имеют броневого покрова, который мог бы защитить их от механических повреждений. Поэтому прокладка кабеля КГВВнг(А) в траншеях не рекомендуется. Монтаж на открытом воздухе допускается при наличии защиты от солнечных лучей и источников тепла. Но все же чаще всего этот кабель используется для создания контрольных цепей в производственных помещениях.</p>
  ',
];
$sectionDelivery = [
  'id' => 'delivery',
  'title' => 'Доставка',
  'body' => '
      <h3>Наша компания предлагает несколько вариантов доставки:</h3>
      <ul>
        <li>платная</li>
        <li>бесплатная</li>
      </ul>

      <h4>Платная доставка</h4>
      <ul>
        <li>до склада клиента в другом городе своим транспортом</li>
        <li>транспортной компанией до клиента</li>
        <li>по городу при заказе до 300 000 рублей</li>
      </ul>

      <p>Цена за доставку зависит от количества, объема и веса груза.</p>
      <p>Есть в наличии машины с манипулятором для разгрузки на складах без соответствующей
        техники.</p>

      <h4>Бесплатная доставка</h4>
      <ul>
        <li>по городу и области при заказе от 300 000 рублей,</li>
        <li>до т/к бесплатная 1 раз в неделю, когда ходит наш транспорт при заказе до 100 000
          рублей,
        </li>
        <li>до т/к бесплатная в любой день при заказе от 100 000 рублей,</li>
      </ul>
      <p>Более подробную информацию о доставке уточняйте у наших сотрудников при заказе</p>
  ',
];
$sectionPayment = [
  'id' => 'payment',
  'title' => 'Оплата',
  'body' => '
        <h3>Предлагаем следующие условия оплаты заказа:</h3>

      <ul>
        <li>Безналичный расчет (ОСНО)</li>
        <li>Товар из наличия поставляется по 100% предоплате</li>
        <li>Возможно кредитование</li>
        <li>Возможен залог</li>
      </ul>

      <p>
        Изготовление продукции по частичной предоплате от 30%.
        С постоянными клиентами работаем в рассрочку или по постоплате.
      </p>

      <h3>Наша компания предлагает гибкие условия оплаты</h3>
      <ul>
        <li>Отсрочка платежа и согласованный график оплат</li>
        <li>Возможность фиксации цен на согласованный ассортимент товаров</li>
        <li>Предоставление товарных запасов на условиях консигнации и согласованного ассортимента
        </li>
        <li>Предоставление товарного кредита</li>
        <li>Наличие механизма стимулирования роста оборота наших клиентов (бонусное соглашение)</li>
        <li>Сотрудничаем с посредниками, заключаем договора на комиссионные выплаты</li>
      </ul>
  ',
];
$productAsideParams = [
  ['key' => 'Единица товара', 'value' => 'Штука',],
  ['key' => 'Вес', 'value' => '1.6 кг',],
  ['key' => 'Длина', 'value' => '155 мм',],
  ['key' => 'Ширина', 'value' => '155 мм',],
  ['key' => 'Высота', 'value' => '60 мм',],];
$letters = [
  ['title' => 'КБ МОТОР',
    'imgUrl' => 'https://rscable.ru/upload/doc/rekomendatelnoe-pismo-fgup-tsenki-kb-motor.jpeg',
  ],
  ['title' => 'ПИК-индустрия',
    'imgUrl' => 'https://rscable.ru/upload/doc/blagodarstvennoe-pismo-ot-pik-industriya.jpeg',
  ],
];
$productReviews = [
  [
    'author' => 'Виктор Чепухло',
    'positives' => 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolores nisi nulla quibusdam. Debitis, doloremque, placeat!',
    'negatives' => 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Asperiores, pariatur.',
    'rating' => 5,
    'date' => '02.04.2023',
    'duration' => 'Менее месяца',
    'comment' => 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. At cumque dicta distinctio
                dolor fuga fugit impedit incidunt inventore ipsa labore magnam maxime minus
                molestias nesciunt nisi nostrum obcaecati odio odit optio placeat possimus, quasi
                quisquam quos reprehenderit sequi similique suscipit totam vel vero voluptatum? Ex
                laborum neque nulla quis temporibus!',
  ], [
    'author' => 'Кристофер Джонстонович',
    'positives' => 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolores nisi nulla quibusdam. Debitis, doloremque, placeat!',
    'negatives' => 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Asperiores, pariatur.',
    'rating' => 5,
    'date' => '05.02.2023',
    'duration' => 'Менее месяца',
    'comment' => 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. At cumque dicta distinctio
                dolor fuga fugit impedit incidunt inventore ipsa labore magnam maxime minus
                molestias nesciunt nisi nostrum obcaecati odio odit optio placeat possimus, quasi
                quisquam quos reprehenderit sequi similique suscipit totam vel vero voluptatum? Ex
                laborum neque nulla quis temporibus!',
  ], [
    'author' => 'Анна',
    'positives' => 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolores nisi nulla quibusdam. Debitis, doloremque, placeat!',
    'negatives' => 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Asperiores, pariatur.',
    'rating' => 4,
    'date' => '02.04.2023',
    'duration' => 'Менее месяца',
    'comment' => 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. At cumque dicta distinctio
                dolor fuga fugit impedit incidunt inventore ipsa labore magnam maxime minus
                molestias nesciunt nisi nostrum obcaecati odio odit optio placeat possimus, quasi
                quisquam quos reprehenderit sequi similique suscipit totam vel vero voluptatum? Ex
                laborum neque nulla quis temporibus!',
  ], [
    'author' => 'Константин Контантинов',
    'positives' => 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolores nisi nulla quibusdam. Debitis, doloremque, placeat!',
    'negatives' => 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Asperiores, pariatur.',
    'rating' => 3,
    'date' => '02.04.2023',
    'duration' => 'Менее месяца',
    'comment' => 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. At cumque dicta distinctio
                dolor fuga fugit impedit incidunt inventore ipsa labore magnam maxime minus
                molestias nesciunt nisi nostrum obcaecati odio odit optio placeat possimus, quasi
                quisquam quos reprehenderit sequi similique suscipit totam vel vero voluptatum? Ex
                laborum neque nulla quis temporibus!',
  ],
];
?>

<?php Render::component('sections/breadcrumbs') ?>

<section class="productHero">
  <div class="productHeroContainer">
    <h1 class="productTitle">
      <?= $productTitle ?>
    </h1>
    <div class="productHeader">
      <div class="productHeaderCode">
        <span>Код товара:</span>
        <span><?= $productCode ?></span>
      </div>
      <a href="#reviews" class="productHeaderReviews">
        <span class="productHeaderReviewsRating">4.3</span>
        <span class="productHeaderReviewsStars">
          <span class="productHeaderReviewsTop" style="width: calc(4.3 / 5 * 100%)">
            <span class="iconfont icon-star"></span>
            <span class="iconfont icon-star"></span>
            <span class="iconfont icon-star"></span>
            <span class="iconfont icon-star"></span>
            <span class="iconfont icon-star"></span>
          </span>
          <span class="productHeaderReviewsBottom">
            <span class="iconfont icon-star"></span>
            <span class="iconfont icon-star"></span>
            <span class="iconfont icon-star"></span>
            <span class="iconfont icon-star"></span>
            <span class="iconfont icon-star"></span>
          </span>
        </span>
        <span class="productHeaderReviewsQuantity">154 отзыва</span>
      </a>
      <div class="productHeaderButtons">
        <button type="button" class="productButtonFav">
          <span class="iconfont icon-heart"></span>
          <span>В избранное</span>
        </button>
        <button class="productButtonCompare" type="button">
          <span class="iconfont icon-stats-bars"></span>
          <span>Сравнить</span>
        </button>
      </div>
    </div>
    <div class="productSliders">
      <div class="productSliderThumbs swiper">
        <div class="swiper-wrapper">
          <?php foreach ($slidesThumbs as $slide):
            $imgUrl = $slide['url']; ?>
            <div class="swiper-slide">
              <picture>
                <img src="<?= $imgUrl ?>" alt="img" loading="lazy">
              </picture>
              <div class="swiper-lazy-preloader"></div>
            </div>
          <?php endforeach; ?>
        </div>
      </div>
      <div class="productSliderMain swiper">
        <div class="swiper-wrapper">
          <?php foreach ($slidesMain as $slide):
            $imgUrl = $slide['url']; ?>
            <div class="swiper-slide">
              <a href="<?= $imgUrl ?>" data-fancybox="slider-main"
                 data-caption="<?= $productTitle ?>">
                <picture>
                  <img src="<?= $imgUrl ?>" alt="img" loading="lazy">
                </picture>
              </a>
              <div class="swiper-lazy-preloader"></div>
            </div>
          <?php endforeach; ?>
        </div>
      </div>
    </div>
    <div class="productInfo">
      <?php Render::component('product/productParams', [
        'params' => $productParamsPreview,
      ]) ?>
      <div class="productInfoButtons">
        <a href="#params" class="productInfoButton">
          <span>Характеристики</span>
          <span class="iconfont icon-arrow-right"></span>
        </a>
        <a href="#description" class="productInfoButton">
          <span>Описание</span>
          <span class="iconfont icon-arrow-right"></span>
        </a>
      </div>
    </div>
    <div class="productActions">
      <div class="productHeroPrices">
        <div class="productHeroPrice _prev"> 1 440 ₽</div>
        <div class="productHeroPrice _current">1 280 ₽</div>
        <div class="productHeroPricesTax">с НДС</div>
      </div>
      <div class="productHeroCart">
        <div class="productHeroCartQuantity">
          <button class="productHeroCartQuantityButton" title="Убрать" type="button">
            <span>-</span>
          </button>
          <input class="productHeroCartQuantityInput" type="text" value="1">
          <button class="productHeroCartQuantityButton" title="Добавить" type="button">
            <span>+</span>
          </button>
        </div>
        <button type="submit" class="productHeroButtonCart">
          <span class="iconfont icon-cart"></span>
          <span>В корзину</span>
        </button>
      </div>
      <div class="productHeroNote">
        <p> Цена на товар может формироваться от объема вашего заказа. Мы всегда стараемся
          предоставить
          нашим клиентам уникальные скидки и сроки поставки их заказа.</p>
      </div>
      <button type="button" class="productHeroButtonQuick" data-modal-open="feedback">
        Купить в 1 клик
      </button>
      <a href="#delivery">
        <span class="iconfont icon-truck"></span>
        <span>Доступна доставка</span>
      </a>
      <a href="#payment">
        <span class="iconfont icon-credit-card"></span>
        <span>Об оплате</span>
      </a>
    </div>
  </div>
</section>
<div class="productAdvantages">
  <div class="productAdvantagesContainer">
    <div class="productAdvantage">
      <div class="productAdvantageImg">
        <span class="iconfont icon-user-suit"></span>
      </div>
      <div class="productAdvantageBody">
        Эксперты
        <br>
        в поставках кабеля
      </div>
    </div>
    <div class="productAdvantage">
      <div class="productAdvantageImg">
        <span class="iconfont icon-gift"></span>
      </div>
      <div class="productAdvantageBody">
        Бонусы за покупки
        <br>
        всем клиентам
      </div>
    </div>
    <div class="productAdvantage">
      <div class="productAdvantageImg">
        <span class="iconfont icon-speed"></span>
      </div>
      <div class="productAdvantageBody">
        Быстрая доставка
        <br>
        по России за 24 часа
      </div>
    </div>
    <div class="productAdvantage">
      <div class="productAdvantageImg">
        <span class="iconfont icon-hammer"></span>
      </div>
      <div class="productAdvantageBody">
        Гарантия качества
        <br>
        от производителей
      </div>
    </div>
  </div>
</div>
<div class="productLayout productContainer">
  <div class="productMain">
    <?php /** Описание */
    Render::component('product/productSection', [
      'id' => $sectionDescription['id'],
      'title' => $sectionDescription['title'],
      'body' => $sectionDescription['body'],
    ]) ?>

    <section class="productSection" id="params">
      <div class="productSectionContainer">
        <h2 class="productSectionTitle"> Технические характеристики </h2>

        <?php Render::component('product/productParams', [
          'params' => $productParamsAll,
        ]) ?>
      </div>
    </section>
  </div>
  <div class="productAside">
    <article class="productAsideBrand">
      <a href="/catalog/" class="productAsideBrandLogo">
        <img src="https://rscable.ru/upload/iblock/695/6950d9e2a7d961072e24b93ca9c3928f.png"
             alt="img" loading="lazy">
      </a>
      <h3 class="productAsideBrandTitle">
        <a href="/catalog/">Название бренда</a>
      </h3>
      <div class="productAsideParam">Производство: Россия</div>
      <div class="productAsideParam">Всего позиций от бренда: 256</div>
      <a href="/catalog/" class="productAsideBrandButton">
        <span>Все товары бренда</span>
        <span class="iconfont icon-arrow-right"></span>
      </a>
    </article>
    <div class="productAsideCol">
      <h3 class="productAsideColTitle">Информация об упаковке</h3>
      <?php Render::component('product/productParams', [
        'params' => $productAsideParams,
      ]) ?>
    </div>
    <div class="productAsideCol">
      <h3 class="productAsideColTitle">Документация</h3>
      <a href="#" class="productAsideDownload">
        <span class="iconfont icon-download"></span>
        <span>Сертификат соответствия</span>
      </a>
      <a href="#" class="productAsideDownload">
        <span class="iconfont icon-download"></span>
        <span>Еще какой-то сертификат</span>
      </a>
      <a href="#" class="productAsideDownload">
        <span class="iconfont icon-download"></span>
        <span>Другой сертификат</span>
      </a>
      <a href="#" class="productAsideDownload _all">
        <span class="iconfont icon-download"></span>
        <span>Скачать все</span>
      </a>
    </div>
  </div>
</div>
<!--Товары, которые могут понравится-->
<?php Render::component('sections/sectionAdvisable', [
  'sectionTitle' => 'Вам может понравится',
  'sectionButtonTitle' => 'Перейти в каталог',
  'sectionButtonUrl' => '/catalog/',
]); ?>
<!--Оплата-->
<?php Render::component('product/productSection', [
  'id' => $sectionPayment['id'],
  'title' => $sectionPayment['title'],
  'body' => $sectionPayment['body'],
]) ?>
<!-- Доставка -->
<?php Render::component('product/productSection', [
  'id' => $sectionDelivery['id'],
  'title' => $sectionDelivery['title'],
  'body' => $sectionDelivery['body'],
]) ?>
<!-- Похожие товары -->
<?php Render::component('sections/sectionAdvisable', [
  'sectionTitle' => 'Похожие',
  'sectionButtonTitle' => 'Перейти в каталог',
  'sectionButtonUrl' => '/catalog/',
]); ?>
<!-- Сертификаты -->
<?php Render::component('product/productDocs', [
  'title' => 'Сертификаты',
  'description' => 'Наши клиенты могут быть всегда уверены, что покупают продукцию у авторизованного продавца,
      напрямую работающего с заводом-производителем. На всю продукцию распространяется гарантия
      производителя, и она соответствует установленным для нее действующим требованиям, стандартам
      качества и безопасности.',
  'docs' => $certificates,
]) ?>
<!--- Благодарственные письма -->
<?php Render::component('product/productDocs', [
  'title' => 'Благодарственные письма',
  'description' => 'Наша компания предлагает не только продукцию высочайшего качества, но и отличный сервис и логистику, что подтверждают многочисленные благодарности от наших клиентов.',
  'docs' => $letters,
]) ?>

<!-- Отзывы-->
<section class="productReviews" id="reviews">
  <div class="productReviewsContainer">
    <div class="productReviewsHeader">
      <h2 class="productReviewsTitle">
        Отзывы о товаре
        <span><?= $productTitle ?></span>
      </h2>
    </div>
    <div class="productReviewsLayout">
      <div class="productReviewsAside">
        <div class="productReviewsAsideTop">
          <div class="productReviewsAsideAverage">
            Средний рейтинг:
            <span>4.3</span>
          </div>
          <div class="productReviewsAsideBased">
            На основании
            <span>154</span>
            отзывов
          </div>
        </div>

        <div class="productReviewsAsideList">
          <div class="productReviewsAsideListItem">
            <div class="productReviewsAsideRating">
              <span class="productReviewsAsideRatingTop" style="width: calc(5 / 5 * 100%)">
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
              </span>
              <span class="productReviewsAsideRatingBottom">
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
              </span>
            </div>
            <div> 60 отзывов</div>
          </div>
          <div class="productReviewsAsideListItem">
            <div class="productReviewsAsideRating">
              <span class="productReviewsAsideRatingTop" style="width: calc(4 / 5 * 100%)">
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
              </span>
              <span class="productReviewsAsideRatingBottom">
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
              </span>
            </div>
            <div> 4 отзыва</div>
          </div>
          <div class="productReviewsAsideListItem">
            <div class="productReviewsAsideRating">
              <span class="productReviewsAsideRatingTop" style="width: calc(3 / 5 * 100%)">
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
              </span>
              <span class="productReviewsAsideRatingBottom">
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
              </span>
            </div>
            <div> 40 отзывов</div>
          </div>
          <div class="productReviewsAsideListItem">
            <div class="productReviewsAsideRating">
              <span class="productReviewsAsideRatingTop" style="width: calc(2 / 5 * 100%)">
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
              </span>
              <span class="productReviewsAsideRatingBottom">
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
                <span class="iconfont icon-star"></span>
              </span>
            </div>
            <div> 2 отзыва</div>
          </div>
        </div>


        <button class="productReviewsButton" type="button" data-modal-open="review">
          <span class="iconfont icon-pencil"></span>
          <span>Оставить отзыв</span>
        </button>
      </div>
      <div class="productReviewsBody">
        <form class="productReviewsFilters">
          <span>Сортировать по:</span>
          <button type="button" class="productReviewsFilter">
            <span>По дате</span>
            <span class="iconfont icon-sort-amount-asc"></span>
            <span class="iconfont icon-sort-amount-desc"></span>
          </button>
          <button type="button" class="productReviewsFilter">
            <span>По оценке</span>
            <span class="iconfont icon-sort-amount-asc"></span>
            <span class="iconfont icon-sort-amount-desc"></span>
          </button>
          <button type="button" class="productReviewsFilter">
            <span>По времени использования</span>
            <span class="iconfont icon-sort-amount-asc"></span>
            <span class="iconfont icon-sort-amount-desc"></span>
          </button>
        </form>
        <div class="productReviewsList">
          <?php if (count($productReviews) > 0): ?>

            <?php foreach ($productReviews as $review) : ?>
              <div class="productReviewsItem">
                <?php /** Отзыв на продукт */
                Render::component('product/productReview', [
                  'author' => $review['author'],
                  'date' => $review['date'],
                  'duration' => $review['duration'],
                  'positives' => $review['positives'],
                  'negatives' => $review['negatives'],
                  'rating' => $review['rating'],
                  'comment' => $review['comment'],
                ]);
                ?>
                <?php /** Форма ответа на отзыв или другой ответ */
                Render::component('product/reviewReply', [
                  'addressee' => $review['author'],
                ]); ?>

                <div class="productReviewAnswers">
                  <?php /** Ответы на отзыв */
                  Render::component('product/reviewAnswer'); ?>
                </div>
              </div>
            <?php endforeach; ?>

          <?php else: ?>
            <div class="productReviewsEmpty">
              У этого товара нет отзывов. Поделитесь мнением об этом товаре - это поможет другим
              пользователям определиться с выбором!
            </div>
          <?php endif; ?>
        </div>
        <button class="productReviewsMore" type="button">
          Загрузить еще
        </button>
      </div>
    </div>
  </div>
</section>
<script>
  /** примеры */
  document.addEventListener('DOMContentLoaded', () => {
    const body = document.body
    body.addEventListener('click', (event) => {
      const target = event.target

      /** показать или скрыть ответы на отзыв */
      if (target.closest('.productReviewToggle')) {
        const button = target.closest('.productReviewToggle')
        const container = target.closest('.productReviewsItem')
        const answersAll = Array.from(container.querySelectorAll('.reviewAnswer'))
        answersAll.forEach((answer) => {
          button.classList.toggle('_active')
          answer.classList.toggle('_active')
        })
      }
      /** показать форму ответа на отзыв */
      if (target.closest('.reviewAnswerReply') || target.closest('.productReviewReply')) {
        const container = target.closest('.productReviewsItem')
        const form = container.querySelector('.reviewReply')
        form.classList.add('_active')
      }
      /** скрыть форму ответа на отзыв*/
      if (target.closest('.reviewReplyCancel') || target.closest('.reviewReplyClose')) {
        const container = target.closest('.productReviewsItem')
        const form = container.querySelector('.reviewReply')
        form.classList.remove('_active')
      }
      /** работаем с иконками в фильтрах /*/
      if (target.closest('.productReviewsFilter')) {
        const button = target.closest('.productReviewsFilter')
        const buttons = body.querySelectorAll('.productReviewsFilter')

        buttons.forEach((element) => element.classList.remove('_active'))
        button.classList.add('_active')

        if (button.classList.contains('_asc') && button.classList.contains('_active')) {
          button.classList.remove('_asc')
          button.classList.add('_desc')
        } else if (button.classList.contains('_desc') && button.classList.contains('_active')) {
          button.classList.remove('_desc')
          button.classList.add('_asc')
        } else {
          button.classList.add('_asc')
        }
      }
    })
  }, {
    passive: true,
    once: true
  })

</script>

<!-- Просмотренные товары -->
<?php Render::component('sections/sectionAdvisable', [
  'sectionTitle' => 'Вы недавно просматривали',
  'sectionButtonTitle' => 'Перейти в каталог',
  'sectionButtonUrl' => '/catalog/',
]); ?>

